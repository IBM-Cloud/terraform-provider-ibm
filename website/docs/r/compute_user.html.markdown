---

subcategory: "Classic infrastructure"
layout: "ibm"
page_title: "IBM : compute_user"
description: |-
  Manages IBM Cloud user accounts.
---

# ibm_compute_user
Create, update, and delete an IBM ID accounts or Softlayer account. For more information, about managing user accounts, see [assigning access to account management services](https://cloud.ibm.com/docs/account?topic=account-account-services).

### SoftLayer Account
If you use this resource to create SoftLayer local credentials, you need to define the `username` and `password` arguments.

To access the SoftLayer portal, the user can log in with the username and password.

To access the SoftLayer API, the user can log in with the username and API key. An `api_key` is generated by SoftLayer when the `has_api_key` flag is **true**.

If the IBM Cloud API [`getBlueIdAuthenticationRequiredFlag`](https://api.softlayer.com/rest/v3/SoftLayer_Account/getBlueIdAuthenticationRequiredFlag) returns **false**, the account is a local account.

## Example usage
The following example shows how to use this resource with SoftLayer accounts:

```terraform
resource "ibm_compute_user" "joe" {
  address1     = "12345 Any Street"
  address2     = "Suite #99"
  city         = "Atlanta"
  company_name = "Comp Inc"
  country      = "US"
  email        = "joe@doe.com"
  first_name   = "Joe"
  has_api_key  = false
  last_name    = "Doe"
  username     = "testuser"
  password     = "Change3Me!"
  permissions = [
    "ACCESS_ALL_GUEST",
    "ACCESS_ALL_HARDWARE",
    "SERVER_ADD",
    "SERVER_CANCEL",
    "RESET_PORTAL_PASSWORD",
  ]
  state    = "GA"
  timezone = "EST"
}

```

### IBMID account
You can use an IBMID instead of your SoftLayer credentials. An [IBMID](https://www.ibm.com/account/profile/us) is used as a consistent way to access IBM products. You can create an IBMID in advance.

If you use this resource for an IBMID account, the resource should not contain `username` and `password` arguments. The user name is generated by SoftLayer by combining the IBMID account number and the IBMID email address. The password is not used in an IBMID account.

To access the SoftLayer portal, the user can log in with the IBMID.

To access the SoftLayer API, the user can log in with the username generated by SoftLayer and the API key. An `api_key` is generated by SoftLayer when the `has_api_key` flag is **true**.

If the IBM Cloud API [`getBlueIdAuthenticationRequiredFlag`](https://api.softlayer.com/rest/v3/SoftLayer_Account/getBlueIdAuthenticationRequiredFlag)
returns **true**, the account is an IBMID.


### The following example shows how to use this resource with IBMID accounts:

```terraform
resource "ibm_compute_user" "joe" {
  address1     = "12345 Any Street"
  address2     = "Suite #99"
  city         = "Atlanta"
  company_name = "Comp Inc"
  country      = "US"
  email        = "joe@doe.com"
  first_name   = "Joe"
  has_api_key  = false
  last_name    = "Doe"
  permissions = [
    "ACCESS_ALL_GUEST",
    "ACCESS_ALL_HARDWARE",
    "SERVER_ADD",
    "SERVER_CANCEL",
    "RESET_PORTAL_PASSWORD",
  ]
  state    = "GA"
  timezone = "EST"
}
```

**Note** 

An [IBMID](https://www.ibm.com/account/profile/us) is used as a consistent way to access IBM products. You can create an IBMID in advance.

For more information, see the [SoftLayer API documentation](http://sldn.softlayer.com/reference/datatypes/SoftLayer_User_Customer).

## Argument reference
Review the argument references that you can specify for your resource.

- `address1`- (Required, String) The first line of the user's street address.
- `address2`- (Optional, String) The second line of the user's street address.
- `city`- (Required, String) The user's city.
- `company_name`- (Required, String) The user's company.
- `country`- (Required, String) The user's country.
- `email`- (Required, String) The email address associated with the account.
- `first_name`- (Required, String) The user's given name.
- `has_api_key`- (Optional, Bool) When the value is **true**, a SoftLayer API key is created for the user. The key is returned in the `api_key` attribute. When the value is **false**, any existing SoftLayer API keys for the user are deleted. The default value is **false**.
- `last_name`- (Required, String) The user's last name.
- `username`- (Required for SoftLayer accounts, optional for IBMID accounts, String) A unique name to identify a user globally across all SoftLayer login. The username is also the user login. Once a username is created, it cannot be changed. You must define a username when the account is a SoftLayer account. The user name is generated by SoftLayer when the account is an IBMID account. For example, if an IBMID had an account number of `1234567` and an email address (IBMID) of `test@example.com`, then SoftLayer would generate `1234567_test@example.com` as the username. This argument is optional for an IBMID account.
- `password`- (Required for SoftLayer accounts, String) The initial password for the user account. The password is hashed and encoded before it is stored in the  Terraform state file. For an IBMID account, the password argument is ignored. For a SoftLayer account, the password must conform to SoftLayer's password policies to avoid failures.  Valid passwords must meet the following rules: <ul><li>Be 8 to 20 characters in length.</li><li>Have a combination of uppercase and lowercase characters. </li><li>Contain at least one number. </li><li>Contain at least one of the following special characters: <code>_</code>, <code>-</code>, <code>&#124;</code>, <code>@</code>, <code>.</code>, <code>,</code>, <code>?</code>, <code>/</code>, <code>!</code>, <code>~</code>, <code>#</code>, <code>$</code>, <code>%</code>, <code>^</code>, <code>&</code>, <code>*</code>, <code>(</code>, <code>)</code>, <code>{</code>, <code>}</code>, <code>[</code>, <code>]</code>, <code>=</code>.
- `permissions`- (Optional, String) Permissions assigned to this user. This is a set of zero or more string values. See the [IBM Cloud API Documentation for user permissions](https://sldn.softlayer.com/reference/datatypes/SoftLayer_User_Customer_CustomerPermission_Permission).
- `state`- (Required, String) The state of a user's street address.
- `timezone`- (Required, String) The user's time zone as a short name value (e.g., "EST"). For accepted values, see the [IBM Cloud API Documentation for time zones](http://sldn.softlayer.com/reference/datatypes/SoftLayer_Locale_Timezone).
- `user_status`- (Optional, String) The user's log in status. You can find accepted values in the [IBM Cloud API Documentation for user status](http://sldn.softlayer.com/reference/datatypes/SoftLayer_User_Customer_Status). The default value is `ACTIVE`.
- `tags`- (Optional, Array of Strings) Tags associated with the user account instance.     **Note** `Tags` are managed locally and not stored on the IBM Cloud Service Endpoint at this moment.
  
## Attribute reference

In addition to all argument reference list, you can access the following attribute reference after your resource is created.

- `api_key`- (String) The SoftLayer API key that is created for the user.
- `id`- (String) The unique SoftLayer identifier that is created for the user.
- `ibm_id`- (String) The username for IBMID accounts. This attribute is generated by SoftLayer when the IBMID is activated.

**Note**

In SoftLayer, there is a delay when user logins are deleted from SoftLayer back-end systems. SoftLayer acknowledges delete requests and immediately updates the user status to `CANCEL_PENDING`. The actual deletion from the SoftLayer system processes at an unspecified time in the future. 

This delay might be significant, especially during your project's testing phase. You may receive an error if you create a user login, then delete it, and then create it again. This results in an error because the SoftLayer back-end has not completely processed the previous delete operation. If you want to create, delete, and re-create a user login, you must specify a new, globally-unique username in your subsequent requests.
